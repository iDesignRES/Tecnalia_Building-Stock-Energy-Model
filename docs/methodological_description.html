<!doctype html>
<html class="no-js" lang="en" data-content_root="./">
  <head><meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="color-scheme" content="light dark"><meta name="viewport" content="width=device-width, initial-scale=1" />
<link rel="index" title="Index" href="genindex.html"><link rel="search" title="Search" href="search.html"><link rel="next" title="Getting started" href="getting_started.html"><link rel="prev" title="Overview" href="overview.html">
        <link rel="canonical" href="https://idesignres.github.io/Tecnalia_Building-Stock-Energy-Model/methodological_description.html">

    <!-- Generated with Sphinx 8.1.2 and Furo 2025.09.25 -->
        <title>Methodological description - iDesignRES - Solar Energy Model</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=d111a655" />
    <link rel="stylesheet" type="text/css" href="_static/styles/furo.css?v=580074bf" />
    <link rel="stylesheet" type="text/css" href="_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="_static/styles/furo-extensions.css?v=8dab3a3b" />
    
    


<style>
  body {
    --color-code-background: #f2f2f2;
  --color-code-foreground: #1e1e1e;
  --color-brand-primary: #007acc;
  --color-brand-content: #007acc;
  
  }
  @media not print {
    body[data-theme="dark"] {
      --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
    }
    @media (prefers-color-scheme: dark) {
      body:not([data-theme="light"]) {
        --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
      }
    }
  }
</style></head>
  <body>
    
    <script>
      document.body.dataset.theme = localStorage.getItem("theme") || "auto";
    </script>
    

<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
  <symbol id="svg-toc" viewBox="0 0 24 24">
    <title>Contents</title>
    <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 1024 1024">
      <path d="M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM115.4 518.9L271.7 642c5.8 4.6 14.4.5 14.4-6.9V388.9c0-7.4-8.5-11.5-14.4-6.9L115.4 505.1a8.74 8.74 0 0 0 0 13.8z"/>
    </svg>
  </symbol>
  <symbol id="svg-menu" viewBox="0 0 24 24">
    <title>Menu</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-menu">
      <line x1="3" y1="12" x2="21" y2="12"></line>
      <line x1="3" y1="6" x2="21" y2="6"></line>
      <line x1="3" y1="18" x2="21" y2="18"></line>
    </svg>
  </symbol>
  <symbol id="svg-arrow-right" viewBox="0 0 24 24">
    <title>Expand</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-chevron-right">
      <polyline points="9 18 15 12 9 6"></polyline>
    </svg>
  </symbol>
  <symbol id="svg-sun" viewBox="0 0 24 24">
    <title>Light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="feather-sun">
      <circle cx="12" cy="12" r="5"></circle>
      <line x1="12" y1="1" x2="12" y2="3"></line>
      <line x1="12" y1="21" x2="12" y2="23"></line>
      <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
      <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
      <line x1="1" y1="12" x2="3" y2="12"></line>
      <line x1="21" y1="12" x2="23" y2="12"></line>
      <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
      <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
    </svg>
  </symbol>
  <symbol id="svg-moon" viewBox="0 0 24 24">
    <title>Dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-moon">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z" />
    </svg>
  </symbol>
  <symbol id="svg-sun-with-moon" viewBox="0 0 24 24">
    <title>Auto light/dark, in light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round"
      class="icon-custom-derived-from-feather-sun-and-tabler-moon">
      <path style="opacity: 50%" d="M 5.411 14.504 C 5.471 14.504 5.532 14.504 5.591 14.504 C 3.639 16.319 4.383 19.569 6.931 20.352 C 7.693 20.586 8.512 20.551 9.25 20.252 C 8.023 23.207 4.056 23.725 2.11 21.184 C 0.166 18.642 1.702 14.949 4.874 14.536 C 5.051 14.512 5.231 14.5 5.411 14.5 L 5.411 14.504 Z"/>
      <line x1="14.5" y1="3.25" x2="14.5" y2="1.25"/>
      <line x1="14.5" y1="15.85" x2="14.5" y2="17.85"/>
      <line x1="10.044" y1="5.094" x2="8.63" y2="3.68"/>
      <line x1="19" y1="14.05" x2="20.414" y2="15.464"/>
      <line x1="8.2" y1="9.55" x2="6.2" y2="9.55"/>
      <line x1="20.8" y1="9.55" x2="22.8" y2="9.55"/>
      <line x1="10.044" y1="14.006" x2="8.63" y2="15.42"/>
      <line x1="19" y1="5.05" x2="20.414" y2="3.636"/>
      <circle cx="14.5" cy="9.55" r="3.6"/>
    </svg>
  </symbol>
  <symbol id="svg-moon-with-sun" viewBox="0 0 24 24">
    <title>Auto light/dark, in dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round"
      class="icon-custom-derived-from-feather-sun-and-tabler-moon">
      <path d="M 8.282 7.007 C 8.385 7.007 8.494 7.007 8.595 7.007 C 5.18 10.184 6.481 15.869 10.942 17.24 C 12.275 17.648 13.706 17.589 15 17.066 C 12.851 22.236 5.91 23.143 2.505 18.696 C -0.897 14.249 1.791 7.786 7.342 7.063 C 7.652 7.021 7.965 7 8.282 7 L 8.282 7.007 Z"/>
      <line style="opacity: 50%" x1="18" y1="3.705" x2="18" y2="2.5"/>
      <line style="opacity: 50%" x1="18" y1="11.295" x2="18" y2="12.5"/>
      <line style="opacity: 50%" x1="15.316" y1="4.816" x2="14.464" y2="3.964"/>
      <line style="opacity: 50%" x1="20.711" y1="10.212" x2="21.563" y2="11.063"/>
      <line style="opacity: 50%" x1="14.205" y1="7.5" x2="13.001" y2="7.5"/>
      <line style="opacity: 50%" x1="21.795" y1="7.5" x2="23" y2="7.5"/>
      <line style="opacity: 50%" x1="15.316" y1="10.184" x2="14.464" y2="11.036"/>
      <line style="opacity: 50%" x1="20.711" y1="4.789" x2="21.563" y2="3.937"/>
      <circle style="opacity: 50%" cx="18" cy="7.5" r="2.169"/>
    </svg>
  </symbol>
  <symbol id="svg-pencil" viewBox="0 0 24 24">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-pencil-code">
      <path d="M4 20h4l10.5 -10.5a2.828 2.828 0 1 0 -4 -4l-10.5 10.5v4" />
      <path d="M13.5 6.5l4 4" />
      <path d="M20 21l2 -2l-2 -2" />
      <path d="M17 17l-2 2l2 2" />
    </svg>
  </symbol>
  <symbol id="svg-eye" viewBox="0 0 24 24">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-eye-code">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M10 12a2 2 0 1 0 4 0a2 2 0 0 0 -4 0" />
      <path
        d="M11.11 17.958c-3.209 -.307 -5.91 -2.293 -8.11 -5.958c2.4 -4 5.4 -6 9 -6c3.6 0 6.6 2 9 6c-.21 .352 -.427 .688 -.647 1.008" />
      <path d="M20 21l2 -2l-2 -2" />
      <path d="M17 17l-2 2l2 2" />
    </svg>
  </symbol>
</svg>

<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation" aria-label="Toggle site navigation sidebar">
<input type="checkbox" class="sidebar-toggle" name="__toc" id="__toc" aria-label="Toggle table of contents sidebar">
<label class="overlay sidebar-overlay" for="__navigation"></label>
<label class="overlay toc-overlay" for="__toc"></label>

<a class="skip-to-content muted-link" href="#furo-main-content">Skip to content</a>



<div class="page">
  <header class="mobile-header">
    <div class="header-left">
      <label class="nav-overlay-icon" for="__navigation">
        <span class="icon"><svg><use href="#svg-menu"></use></svg></span>
      </label>
    </div>
    <div class="header-center">
      <a href="index.html"><div class="brand">iDesignRES - Solar Energy Model</div></a>
    </div>
    <div class="header-right">
      <div class="theme-toggle-container theme-toggle-header">
        <button class="theme-toggle" aria-label="Toggle Light / Dark / Auto color theme">
          <svg class="theme-icon-when-auto-light"><use href="#svg-sun-with-moon"></use></svg>
          <svg class="theme-icon-when-auto-dark"><use href="#svg-moon-with-sun"></use></svg>
          <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
          <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
        </button>
      </div>
      <label class="toc-overlay-icon toc-header-icon" for="__toc">
        <span class="icon"><svg><use href="#svg-toc"></use></svg></span>
      </label>
    </div>
  </header>
  <aside class="sidebar-drawer">
    <div class="sidebar-container">
      
      <div class="sidebar-sticky"><a class="sidebar-brand" href="index.html">
  
  <span class="sidebar-brand-text">iDesignRES - Solar Energy Model</span>
  
</a><form class="sidebar-search-container" method="get" action="search.html" role="search">
  <input class="sidebar-search" placeholder="Search" name="q" aria-label="Search">
  <input type="hidden" name="check_keywords" value="yes">
  <input type="hidden" name="area" value="default">
</form>
<div id="searchbox"></div><div class="sidebar-scroll"><div class="sidebar-tree">
  <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="overview.html">Overview</a></li>
<li class="toctree-l1 current current-page"><a class="current reference internal" href="#">Methodological description</a></li>
<li class="toctree-l1"><a class="reference internal" href="getting_started.html">Getting started</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="api_reference.html">API Reference</a><input aria-label="Toggle navigation of API Reference" class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" role="switch" type="checkbox"/><label for="toctree-checkbox-1"><span class="icon"><svg><use href="#svg-arrow-right"></use></svg></span></label><ul>
<li class="toctree-l2"><a class="reference internal" href="modules.html">Modules</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="example.html">Example</a></li>
</ul>

</div>
</div>

      </div>
      
    </div>
  </aside>
  <div class="main">
    <div class="content">
      <div class="article-container">
        <a href="#" class="back-to-top muted-link">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z"></path>
          </svg>
          <span>Back to top</span>
        </a>
        <div class="content-icon-container">
          <div class="view-this-page">
  <a class="muted-link" href="https://github.com/iDesignRES/Tecnalia_Building-Stock-Energy-Model/blob/main/docs/methodological_description.rst?plain=true" title="View this page">
    <svg><use href="#svg-eye"></use></svg>
    <span class="visually-hidden">View this page</span>
  </a>
</div><div class="edit-this-page">
  <a class="muted-link" href="https://github.com/iDesignRES/Tecnalia_Building-Stock-Energy-Model/edit/main/docs/methodological_description.rst" rel="edit" title="Edit this page">
    <svg><use href="#svg-pencil"></use></svg>
    <span class="visually-hidden">Edit this page</span>
  </a>
</div><div class="theme-toggle-container theme-toggle-content">
            <button class="theme-toggle" aria-label="Toggle Light / Dark / Auto color theme">
              <svg class="theme-icon-when-auto-light"><use href="#svg-sun-with-moon"></use></svg>
              <svg class="theme-icon-when-auto-dark"><use href="#svg-moon-with-sun"></use></svg>
              <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
              <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
            </button>
          </div>
          <label class="toc-overlay-icon toc-content-icon" for="__toc">
            <span class="icon"><svg><use href="#svg-toc"></use></svg></span>
          </label>
        </div>
        <article role="main" id="furo-main-content">
          <section id="methodological-description">
<h1>Methodological description<a class="headerlink" href="#methodological-description" title="Link to this heading">¶</a></h1>
<section id="mathematical-description">
<h2>Mathematical description<a class="headerlink" href="#mathematical-description" title="Link to this heading">¶</a></h2>
<p>The most relevant aspects of the mathematical description of the model are detailed below. It should be noted that this model corresponds to the adaptation of a previous model, so that once the basic methodological basis has been described, detailed descriptions of previous studies will be redirected.</p>
<p>This section is composed of different subsections, each of them focused on the description of the most relevant methodological and mathematical aspects of each of the large blocks described in the model design philosophy section.</p>
</section>
<section id="pre-processing-of-basic-data-of-the-building-stock">
<h2>Pre-processing of basic data of the building stock<a class="headerlink" href="#pre-processing-of-basic-data-of-the-building-stock" title="Link to this heading">¶</a></h2>
<section id="a-buildings">
<h3>a) BUILDINGS<a class="headerlink" href="#a-buildings" title="Link to this heading">¶</a></h3>
</section>
<section id="pre-processing-of-building-level-information">
<h3>Pre-processing of building-level information<a class="headerlink" href="#pre-processing-of-building-level-information" title="Link to this heading">¶</a></h3>
<p>This section describes the process followed for the preprocessing and treatment of the basic information of each building in the selected region. This is a process that the model executes without the need of inputs or user intervention. It is only necessary that the user selects the region to be evaluated.</p>
<p>The method is mainly based on the information available from OpenStreetMap <a class="footnote-reference brackets" href="#id12" id="id1" role="doc-noteref"><span class="fn-bracket">[</span>1<span class="fn-bracket">]</span></a>. This provides relevant information for the selected region regarding the geometry of the buildings and their use. However, this information has many gaps that are being filled in with other public data sources. Information available from the EU Building Stock Observatory <a class="footnote-reference brackets" href="#id13" id="id2" role="doc-noteref"><span class="fn-bracket">[</span>2<span class="fn-bracket">]</span></a> is used (which is the main classification used by the country level ESM tools to which the new model will be linked), as well as information from sources such as the Global Human Settlement Layer (GSH) data <a class="footnote-reference brackets" href="#id14" id="id3" role="doc-noteref"><span class="fn-bracket">[</span>3<span class="fn-bracket">]</span></a> and the Hotmaps project <a class="footnote-reference brackets" href="#id15" id="id4" role="doc-noteref"><span class="fn-bracket">[</span>4<span class="fn-bracket">]</span></a>.</p>
<p>The method is integrated in a Python script capable of preparing the building stock energy data for any region of Europe. It provides relevant information per building of the region selected including the age, height, gross floor area, geometric shape and use and sub-use for residential and tertiary in a geolocated way.</p>
<p>Thus, when the user selects the NUTS Level 2 region to be evaluated, this process cuts the information corresponding to the geographical limits established for each of the information layers used. In a second phase, the information of each layer is processed to associate the characteristics to be extracted from it for one of the buildings contemplated in the region. This process can be replicated for an analysis to be performed at the NUTS level3 disaggregation level.</p>
<p>The performance of this development has been evaluated by comparing the results obtained with respect to the results obtained using a much more detailed and time-consuming approach which requires access to information based on cadastral data. This comparison has been carried out for the case of the city of Bilbao (a relevant city in the Basque Country, Spain), being aware that this is a very demanding comparative study as it evaluates the performance of the development for a city scale, which is more demanding than the regional scale. More details can be consulted in a paper dedicated to this section Data processing for georeferenced building characterization aimed at energy modelling of different NUTS level 2 regions of Europe <a class="footnote-reference brackets" href="#id16" id="id5" role="doc-noteref"><span class="fn-bracket">[</span>5<span class="fn-bracket">]</span></a>.</p>
</section>
<section id="information-processing-for-the-generation-of-archetypes">
<h3>Information processing for the generation of archetypes<a class="headerlink" href="#information-processing-for-the-generation-of-archetypes" title="Link to this heading">¶</a></h3>
<p>In a next step building archetypes for each building typology according to their use and age are generated. In this way, through clustering methods, this process defines the number of building archetypes that are the most representative for each building typology (according to the use and age disaggregation). This simplifies the calculation of energy demands and consumption of the building stock regional energy model as buildings meeting certain characteristics can be grouped together to perform the energy calculation and not have to do it for each individual building. This is of greater interest as the scale of analysis is extended beyond the urban area.</p>
<p>The generated information is processed to identify representative building archetypes, which serve as additional input data to the building stock model, and which will contribute to accelerate energy demand calculations in the following steps of the energy planning process. For this purpose, the KMeans clustering algorithm <a class="footnote-reference brackets" href="#id17" id="id6" role="doc-noteref"><span class="fn-bracket">[</span>6<span class="fn-bracket">]</span></a> has been applied for each of the branches of the disaggregated tree of the building sector.</p>
<p>Once the clustering has been performed, the algorithm selects the building corresponding to the centroid of each cluster as the representative building to complete the final characterization of each archetype.</p>
<p>In this case, the resulting clusters for building blocks in the residential sector by construction periods were obtained using specific parameters for grouping, such as the form factor, the ratio of the external façade area to the total façade area (including adjacent façades), and the building height. The building corresponding to the centroid of each cluster serves as the basis for defining the characteristics of the archetype used in the calculations.</p>
</section>
<section id="b-solar">
<h3>b) SOLAR<a class="headerlink" href="#b-solar" title="Link to this heading">¶</a></h3>
<p>This section describes the information preprocessing process used as input to the solar building technology assessment module.</p>
<p>The process determines for each selected region which buildings are suitable for the potential implementation of solar technology.</p>
<p>For each region a raster file is generated with the buildings of potential radiation differentiated by different radiation ranges or thresholds. This is intended to obtain more criteria to determine which are the most interesting areas in which to start deploying solar technology once the alternative scenarios are being generate.</p>
<p>As output of this process, the results obtained in terms of the region ID (NUTS Level 3 and NUTS Leve 2), the coordinates of the region centroid, the total area, the maximum radiation, the average radiation, and the area corresponding to each of the buildings corresponding to each radiation threshold measured above are stored.</p>
<p>This information is used in later phases to calculate solar generation, taking as inputs data with a high degree of disaggregation.</p>
<p>The different layers of information used in the process described above are listed in more detail below.
- Global solar radiation atlas GHI at 200x200m resolution <a class="footnote-reference brackets" href="#id18" id="id7" role="doc-noteref"><span class="fn-bracket">[</span>7<span class="fn-bracket">]</span></a>.
- Land use map: 100x100m. Selected from this layer the uses corresponding to each building typology.</p>
<p>The following is a more detailed description of the preprocessing process according to its logic and processing sequence.</p>
</section>
<section id="data-preparation-and-clipping">
<h3>Data Preparation and Clipping<a class="headerlink" href="#data-preparation-and-clipping" title="Link to this heading">¶</a></h3>
<ul class="simple">
<li><p>Clip the NUTS (Nomenclature of Territorial Units for Statistics) regions layer to the selected NUTS 2 or NUTS 3 region.</p></li>
<li><p>Clip the following layers to the selected region: (Land use, Solar radiation).</p></li>
</ul>
</section>
<section id="land-use-layer-filtering">
<h3>Land Use Layer Filtering<a class="headerlink" href="#land-use-layer-filtering" title="Link to this heading">¶</a></h3>
<p>The land use layer is filtered to identify specific land cover types suitable for solar installation:
- User-defined codes for suitable building types (e.g., Single family houses, Apartments, Health, Hotels, Offices, Sport, Trade) are used to filter the layer.
- Pixels corresponding to the specified land use codes are set to 1, while all others are set to 0.</p>
</section>
<section id="raster-alignment-and-standardization">
<h3>Raster Alignment and Standardization<a class="headerlink" href="#raster-alignment-and-standardization" title="Link to this heading">¶</a></h3>
<p>All layers are aligned and adjusted to ensure consistent resolution, projection system, and size across datasets.</p>
</section>
<section id="regional-analysis-and-reporting">
<h3>Regional Analysis and Reporting<a class="headerlink" href="#regional-analysis-and-reporting" title="Link to this heading">¶</a></h3>
<p>The code performs a regional analysis based on the potential radiation areas:
- Radiation thresholds are defined from a starting value to the maximum raster value, incrementing by 100.
- A Data Frame is created to store results, including region ID, centroid coordinates, total area, maximum radiation, average radiation, and area corresponding to each radiation threshold.
- The code iterates over each NUTS 3 region, calculating values for each radiation threshold.
- Results are saved as a CSV file in the same directory as the input raster file.</p>
<p>Region,Centroid_X,Centroid_Y,Total_Area,Max_Radiation,Average_Radiation,Threshold,Area_m2,Median_Radiation,Median_Radiation_X,Median_Radiation_Y</p>
</section>
</section>
<section id="calculation-of-energy-needs-and-energy-consumption-of-buildings-in-the-region">
<h2>Calculation of energy needs and energy consumption of buildings in the region<a class="headerlink" href="#calculation-of-energy-needs-and-energy-consumption-of-buildings-in-the-region" title="Link to this heading">¶</a></h2>
<section id="buildings">
<h3>Buildings<a class="headerlink" href="#buildings" title="Link to this heading">¶</a></h3>
<p>The most relevant mathematical equations used for the calculation of the energy needs of buildings are described below. These algorithms are applicable to different building typologies, from residential buildings to tertiary buildings.
It should be noted however that for each case, the input parameters considered in this building stock energy model are different depending on the use and age of the buildings:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ACD_</span><span class="p">{</span><span class="n">k</span><span class="p">}</span> <span class="o">=</span> \<span class="n">sum_</span><span class="p">{</span><span class="n">i</span><span class="p">,</span><span class="n">j</span><span class="o">=</span><span class="mi">1</span><span class="p">}</span><span class="o">^</span><span class="p">{</span><span class="mi">8760</span><span class="p">}</span>
\<span class="n">Big</span><span class="p">(</span>
<span class="n">CDH_</span><span class="p">{</span><span class="n">i</span><span class="p">,</span><span class="n">j</span><span class="p">}</span> \<span class="n">times</span> <span class="n">A_</span><span class="p">{</span><span class="n">k</span><span class="p">}</span> \<span class="n">times</span> <span class="n">U_</span><span class="p">{</span><span class="n">k</span><span class="p">}</span>
<span class="o">+</span> <span class="n">Gains_</span><span class="p">{</span><span class="n">i</span><span class="p">,</span><span class="n">j</span><span class="p">}</span>
<span class="o">+</span> <span class="n">cventilation</span>\ <span class="n">losses_</span><span class="p">{</span><span class="n">i</span><span class="p">,</span><span class="n">j</span><span class="p">}</span> \<span class="n">times</span> <span class="p">(</span><span class="mi">1</span> <span class="o">-</span> <span class="n">n_</span><span class="p">{</span><span class="n">HR</span><span class="p">})</span>
\<span class="n">Big</span><span class="p">)</span>
\<span class="n">cdot</span> <span class="n">cooling</span>\ <span class="n">schedule_</span><span class="p">{</span><span class="n">i</span><span class="p">,</span><span class="n">j</span><span class="p">}</span>
</pre></div>
</div>
<p>Where ACDk is the annual cooling useful energy demand (kWh/year), CDHi,j is the cooling degree hours (°C), Ak is the envelope element surface (m <sup>2</sup>), Uk is the thermal transmittance (W/(m <sup>2</sup>·K)), ηHR is the heat recovery system efficiency (%), i is the hour of the day and j is the day of the year.</p>
<p>Finally, the annual domestic hot water demand is determined by multiplying the annual DWH demand per square meter, the gross floor area of the building and the normalized usage factor of the DHW:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">DHWD_</span><span class="p">{</span><span class="n">k</span><span class="p">}</span> <span class="o">=</span>
\<span class="n">sum_</span><span class="p">{</span><span class="n">i</span><span class="p">,</span><span class="n">j</span><span class="o">=</span><span class="mi">1</span><span class="p">}</span><span class="o">^</span><span class="p">{</span><span class="mi">8760</span><span class="p">}</span>
\<span class="n">left</span><span class="p">(</span>
<span class="n">DHW</span>\ <span class="n">demand_</span><span class="p">{</span><span class="n">k</span><span class="p">}</span> \<span class="n">times</span> <span class="n">NHA_</span><span class="p">{</span><span class="n">k</span><span class="p">}</span> \<span class="n">times</span>
\<span class="n">frac</span><span class="p">{</span>
<span class="n">Hourly</span>\ <span class="n">usage</span>\ <span class="n">factor_</span><span class="p">{</span><span class="n">DHW</span><span class="p">,</span><span class="n">i</span><span class="p">,</span><span class="n">j</span><span class="p">}</span>
<span class="p">}{</span>
\<span class="n">sum_</span><span class="p">{</span><span class="n">i</span><span class="p">,</span><span class="n">j</span><span class="o">=</span><span class="mi">1</span><span class="p">}</span><span class="o">^</span><span class="p">{</span><span class="mi">8760</span><span class="p">}</span> <span class="n">Hourly</span>\ <span class="n">usage</span>\ <span class="n">factor_</span><span class="p">{</span><span class="n">DHW</span><span class="p">,</span><span class="n">i</span><span class="p">,</span><span class="n">j</span><span class="p">}</span>
<span class="p">}</span>
\<span class="n">right</span><span class="p">)</span>
</pre></div>
</div>
<p>Where DHWDk is the annual domestic hot water useful energy demand (kWh/year), DHWk is the domestic hot water demand (kWh/m <sup>2</sup>),  NHAk is the net heated area (m <sup>2</sup>), i is the hour of the day and j is the day of the year.
The values of the parameters used in the equations vary according to the location, age, or use of the building, as shown in the table 1.</p>
<p><strong>Table 1</strong>. Dependence of the parameters according to the characteristics of the buildings:</p>
<div class="table-wrapper docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"></th>
<th class="head"><p>Schedules</p></th>
<th class="head"><p>Internal gains</p></th>
<th class="head"><p>U-value</p></th>
<th class="head"><p>Ventilation losses</p></th>
<th class="head"><p>Solar gains</p></th>
<th class="head"><p>DHW demands</p></th>
<th class="head"><p>WWR</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><strong>Location</strong></p></td>
<td></td>
<td></td>
<td><p>X</p></td>
<td><p>X</p></td>
<td><p>X</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p><strong>Age</strong></p></td>
<td></td>
<td></td>
<td><p>X</p></td>
<td><p>X</p></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p><strong>Use</strong></p></td>
<td><p>X</p></td>
<td><p>X</p></td>
<td><p>X</p></td>
<td></td>
<td><p>X</p></td>
<td><p>X</p></td>
<td><p>X</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="internal-database">
<h3>Internal database<a class="headerlink" href="#internal-database" title="Link to this heading">¶</a></h3>
<p>The building stock model incorporates a database with the most relevant information that is necessary for its implementation. It combines information downloaded from different sources such as Demand.ninja <a class="footnote-reference brackets" href="#id19" id="id8" role="doc-noteref"><span class="fn-bracket">[</span>8<span class="fn-bracket">]</span></a> for weather (hourly data), the EU Buildings Stock Observatory <a class="footnote-reference brackets" href="#id20" id="id9" role="doc-noteref"><span class="fn-bracket">[</span>9<span class="fn-bracket">]</span></a> for basic data such as thermal transmittances by building type, age, and location, or the European Commission, Joint Research Centre (JRC) Dataset <a class="footnote-reference brackets" href="#id21" id="id10" role="doc-noteref"><span class="fn-bracket">[</span>10<span class="fn-bracket">]</span></a> to obtain preliminary shares of technology use by final energy use for each building typology and energy performances of technologies for energy consumption calculation.</p>
<p><strong>Table 2</strong>. Structure of technology use by final energy use for each building typology used to define the share of technologies as preliminary data of the model per country:</p>
<div class="table-wrapper docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Category / Subcategory</p></th>
<th class="head"><p>Value (kWh/sqm)</p></th>
<th class="head"><p>Code</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><strong>Final energy consumption (kWh/sqm)</strong></p></td>
<td><p>61.2</p></td>
<td><p>FEC_per_sqm.kWh.ES.Res.HH.Thermal</p></td>
</tr>
<tr class="row-odd"><td><p><strong>Space heating</strong></p></td>
<td><p>41.6</p></td>
<td><p>FEC_per_sqm.kWh.ES.Res.HH.Thermal.SH</p></td>
</tr>
<tr class="row-even"><td><p>Solids</p></td>
<td><p>41.0</p></td>
<td><p>FEC_per_sqm.kWh.ES.Res.HH.Thermal.SH.Solids.Solids</p></td>
</tr>
<tr class="row-odd"><td><p>Liquefied petroleum gas (LPG)</p></td>
<td><p>47.7</p></td>
<td><p>FEC_per_sqm.kWh.ES.Res.HH.Thermal.SH.LPG.LPG</p></td>
</tr>
<tr class="row-even"><td><p>Diesel oil</p></td>
<td><p>47.1</p></td>
<td><p>FEC_per_sqm.kWh.ES.Res.HH.Thermal.SH.Oil.Oil_LiqBio</p></td>
</tr>
<tr class="row-odd"><td><p>Natural gas</p></td>
<td><p>41.9</p></td>
<td><p>FEC_per_sqm.kWh.ES.Res.HH.Thermal.SH.Gas.NG_Biogas</p></td>
</tr>
<tr class="row-even"><td><p>Biomass</p></td>
<td><p>45.5</p></td>
<td><p>FEC_per_sqm.kWh.ES.Res.HH.Thermal.SH.Biomass.Biomass_Waste</p></td>
</tr>
<tr class="row-odd"><td><p>Geothermal</p></td>
<td><p>36.8</p></td>
<td><p>FEC_per_sqm.kWh.ES.Res.HH.Thermal.SH.Geo.Geo</p></td>
</tr>
<tr class="row-even"><td><p>Distributed heat</p></td>
<td><p>-</p></td>
<td><p>FEC_per_sqm.kWh.ES.Res.HH.Thermal.SH.DistrHeat.Steam_Distr</p></td>
</tr>
<tr class="row-odd"><td><p>Advanced electric heating</p></td>
<td><p>9.1</p></td>
<td><p>FEC_per_sqm.kWh.ES.Res.HH.Thermal.SH.AdvElec.Elec</p></td>
</tr>
<tr class="row-even"><td><p>Conventional electric heating</p></td>
<td><p>35.2</p></td>
<td><p>FEC_per_sqm.kWh.ES.Res.HH.Thermal.SH.ConvElec.Elec</p></td>
</tr>
<tr class="row-odd"><td><p>Electricity in circulation</p></td>
<td><p>0.4</p></td>
<td><p>FEC_per_sqm.kWh.ES.Res.HH.Thermal.SH.TotalCirculation.Elec</p></td>
</tr>
<tr class="row-even"><td><p><strong>Space cooling</strong></p></td>
<td><p>0.9</p></td>
<td><p>FEC_per_sqm.kWh.ES.Res.HH.Thermal.SC</p></td>
</tr>
<tr class="row-odd"><td><p>Air conditioning</p></td>
<td><p>0.9</p></td>
<td><p>FEC_per_sqm.kWh.ES.Res.HH.Thermal.SC.AC.Elec</p></td>
</tr>
<tr class="row-even"><td><p><strong>Water heating</strong></p></td>
<td><p>12.2</p></td>
<td><p>FEC_per_sqm.kWh.ES.Res.HH.Thermal.WH</p></td>
</tr>
<tr class="row-odd"><td><p>Solids</p></td>
<td><p>12.0</p></td>
<td><p>FEC_per_sqm.kWh.ES.Res.HH.Thermal.WH.Solids.Solids</p></td>
</tr>
<tr class="row-even"><td><p>Liquefied petroleum gas (LPG)</p></td>
<td><p>12.3</p></td>
<td><p>FEC_per_sqm.kWh.ES.Res.HH.Thermal.WH.LPG.LPG</p></td>
</tr>
<tr class="row-odd"><td><p>Diesel oil</p></td>
<td><p>13.8</p></td>
<td><p>FEC_per_sqm.kWh.ES.Res.HH.Thermal.WH.Oil.Oil_LiqBio</p></td>
</tr>
<tr class="row-even"><td><p>Natural gas</p></td>
<td><p>13.2</p></td>
<td><p>FEC_per_sqm.kWh.ES.Res.HH.Thermal.WH.Gas.NG_Biogas</p></td>
</tr>
<tr class="row-odd"><td><p>Biomass</p></td>
<td><p>12.2</p></td>
<td><p>FEC_per_sqm.kWh.ES.Res.HH.Thermal.WH.Biomass.Biomass_Waste</p></td>
</tr>
<tr class="row-even"><td><p>Geothermal</p></td>
<td><p>11.3</p></td>
<td><p>FEC_per_sqm.kWh.ES.Res.HH.Thermal.WH.Geo.Geo</p></td>
</tr>
<tr class="row-odd"><td><p>Distributed heat</p></td>
<td><p>-</p></td>
<td><p>FEC_per_sqm.kWh.ES.Res.HH.Thermal.WH.DistrHeat.Steam_Distr</p></td>
</tr>
<tr class="row-even"><td><p>Electricity</p></td>
<td><p>6.9</p></td>
<td><p>FEC_per_sqm.kWh.ES.Res.HH.Thermal.WH.Elec.Elec</p></td>
</tr>
<tr class="row-odd"><td><p>Solar</p></td>
<td><p>8.5</p></td>
<td><p>FEC_per_sqm.kWh.ES.Res.HH.Thermal.WH.TotalSolar.Solar</p></td>
</tr>
<tr class="row-even"><td><p><strong>Cooking</strong></p></td>
<td><p>6.6</p></td>
<td><p>FEC_per_sqm.kWh.ES.Res.HH.Thermal.CO</p></td>
</tr>
<tr class="row-odd"><td><p>Solids</p></td>
<td><p>7.4</p></td>
<td><p>FEC_per_sqm.kWh.ES.Res.HH.Thermal.CO.Solids.Solids</p></td>
</tr>
<tr class="row-even"><td><p>Liquefied petroleum gas (LPG)</p></td>
<td><p>8.0</p></td>
<td><p>FEC_per_sqm.kWh.ES.Res.HH.Thermal.CO.LPG.LPG</p></td>
</tr>
<tr class="row-odd"><td><p>Natural gas</p></td>
<td><p>8.1</p></td>
<td><p>FEC_per_sqm.kWh.ES.Res.HH.Thermal.CO.Gas.NG_Biogas</p></td>
</tr>
<tr class="row-even"><td><p>Biomass</p></td>
<td><p>8.1</p></td>
<td><p>FEC_per_sqm.kWh.ES.Res.HH.Thermal.CO.Biomass.Biomass_Waste</p></td>
</tr>
<tr class="row-odd"><td><p>Electricity</p></td>
<td><p>5.6</p></td>
<td><p>FEC_per_sqm.kWh.ES.Res.HH.Thermal.CO.Elec.Elec</p></td>
</tr>
</tbody>
</table>
</div>
<p>It should be noted that all these parameters together with the use profiles of each building typology are susceptible to being substituted by more precise input data that the modeler may have available for the region being evaluated. As a conceptual example, the simplified form of data entry for each building typology is shown for each building typology in terms of weekday consumption profiles by final energy use.</p>
<p><strong>Table 3</strong>. Weekday consumption profiles by final energy use:</p>
<div class="table-wrapper docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Weekday</p></th>
<th class="head"><p>Heating</p></th>
<th class="head"><p>Cooling</p></th>
<th class="head"><p>Lighting</p></th>
<th class="head"><p>Equipment</p></th>
<th class="head"><p>Occupancy</p></th>
<th class="head"><p>DHW</p></th>
<th class="head"><p>Cooking</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>0:00</p></td>
<td><p>0.0</p></td>
<td><p>0.2</p></td>
<td><p>0.3</p></td>
<td><p>0.3</p></td>
<td><p>1.0</p></td>
<td><p>0.3</p></td>
<td><p>0.0</p></td>
</tr>
<tr class="row-odd"><td><p>1:00</p></td>
<td><p>0.0</p></td>
<td><p>0.1</p></td>
<td><p>0.3</p></td>
<td><p>0.3</p></td>
<td><p>1.0</p></td>
<td><p>0.1</p></td>
<td><p>0.0</p></td>
</tr>
<tr class="row-even"><td><p>2:00</p></td>
<td><p>0.0</p></td>
<td><p>0.1</p></td>
<td><p>0.3</p></td>
<td><p>0.3</p></td>
<td><p>1.0</p></td>
<td><p>0.1</p></td>
<td><p>0.0</p></td>
</tr>
<tr class="row-odd"><td><p>3:00</p></td>
<td><p>0.1</p></td>
<td><p>0.1</p></td>
<td><p>0.3</p></td>
<td><p>0.3</p></td>
<td><p>1.0</p></td>
<td><p>0.1</p></td>
<td><p>0.0</p></td>
</tr>
<tr class="row-even"><td><p>4:00</p></td>
<td><p>0.1</p></td>
<td><p>0.2</p></td>
<td><p>0.5</p></td>
<td><p>0.5</p></td>
<td><p>1.0</p></td>
<td><p>0.1</p></td>
<td><p>0.0</p></td>
</tr>
<tr class="row-odd"><td><p>5:00</p></td>
<td><p>0.1</p></td>
<td><p>0.6</p></td>
<td><p>0.9</p></td>
<td><p>0.9</p></td>
<td><p>1.0</p></td>
<td><p>0.1</p></td>
<td><p>0.0</p></td>
</tr>
<tr class="row-even"><td><p>6:00</p></td>
<td><p>0.9</p></td>
<td><p>0.9</p></td>
<td><p>0.9</p></td>
<td><p>1.0</p></td>
<td><p>1.0</p></td>
<td><p>0.5</p></td>
<td><p>0.5</p></td>
</tr>
<tr class="row-odd"><td><p>7:00</p></td>
<td><p>1.0</p></td>
<td><p>1.0</p></td>
<td><p>0.9</p></td>
<td><p>1.0</p></td>
<td><p>0.5</p></td>
<td><p>0.5</p></td>
<td><p>0.5</p></td>
</tr>
<tr class="row-even"><td><p>8:00</p></td>
<td><p>0.9</p></td>
<td><p>0.9</p></td>
<td><p>0.8</p></td>
<td><p>0.9</p></td>
<td><p>0.3</p></td>
<td><p>0.3</p></td>
<td><p>0.3</p></td>
</tr>
<tr class="row-odd"><td><p>9:00</p></td>
<td><p>0.5</p></td>
<td><p>0.7</p></td>
<td><p>0.8</p></td>
<td><p>0.8</p></td>
<td><p>0.3</p></td>
<td><p>0.3</p></td>
<td><p>0.3</p></td>
</tr>
<tr class="row-even"><td><p>10:00</p></td>
<td><p>0.6</p></td>
<td><p>0.4</p></td>
<td><p>0.9</p></td>
<td><p>0.9</p></td>
<td><p>0.3</p></td>
<td><p>0.3</p></td>
<td><p>0.1</p></td>
</tr>
<tr class="row-odd"><td><p>11:00</p></td>
<td><p>0.7</p></td>
<td><p>0.2</p></td>
<td><p>0.9</p></td>
<td><p>0.9</p></td>
<td><p>0.3</p></td>
<td><p>0.3</p></td>
<td><p>0.1</p></td>
</tr>
<tr class="row-even"><td><p>12:00</p></td>
<td><p>0.6</p></td>
<td><p>0.2</p></td>
<td><p>0.3</p></td>
<td><p>0.3</p></td>
<td><p>0.3</p></td>
<td><p>0.3</p></td>
<td><p>0.9</p></td>
</tr>
<tr class="row-odd"><td><p>13:00</p></td>
<td><p>0.7</p></td>
<td><p>0.1</p></td>
<td><p>0.3</p></td>
<td><p>0.3</p></td>
<td><p>0.3</p></td>
<td><p>0.3</p></td>
<td><p>0.9</p></td>
</tr>
<tr class="row-even"><td><p>14:00</p></td>
<td><p>0.7</p></td>
<td><p>0.2</p></td>
<td><p>0.5</p></td>
<td><p>0.5</p></td>
<td><p>0.5</p></td>
<td><p>0.5</p></td>
<td><p>0.6</p></td>
</tr>
<tr class="row-odd"><td><p>15:00</p></td>
<td><p>0.7</p></td>
<td><p>0.2</p></td>
<td><p>0.5</p></td>
<td><p>0.5</p></td>
<td><p>0.5</p></td>
<td><p>0.5</p></td>
<td><p>0.6</p></td>
</tr>
<tr class="row-even"><td><p>16:00</p></td>
<td><p>0.7</p></td>
<td><p>0.2</p></td>
<td><p>0.5</p></td>
<td><p>0.5</p></td>
<td><p>0.5</p></td>
<td><p>0.5</p></td>
<td><p>0.6</p></td>
</tr>
<tr class="row-odd"><td><p>17:00</p></td>
<td><p>0.7</p></td>
<td><p>0.5</p></td>
<td><p>0.8</p></td>
<td><p>0.8</p></td>
<td><p>0.5</p></td>
<td><p>0.5</p></td>
<td><p>0.6</p></td>
</tr>
<tr class="row-even"><td><p>18:00</p></td>
<td><p>0.8</p></td>
<td><p>0.9</p></td>
<td><p>0.9</p></td>
<td><p>0.9</p></td>
<td><p>0.5</p></td>
<td><p>0.5</p></td>
<td><p>0.6</p></td>
</tr>
<tr class="row-odd"><td><p>19:00</p></td>
<td><p>0.9</p></td>
<td><p>0.9</p></td>
<td><p>0.8</p></td>
<td><p>0.8</p></td>
<td><p>0.5</p></td>
<td><p>0.5</p></td>
<td><p>0.8</p></td>
</tr>
<tr class="row-even"><td><p>20:00</p></td>
<td><p>0.9</p></td>
<td><p>0.7</p></td>
<td><p>0.6</p></td>
<td><p>0.6</p></td>
<td><p>0.5</p></td>
<td><p>0.5</p></td>
<td><p>0.8</p></td>
</tr>
<tr class="row-odd"><td><p>21:00</p></td>
<td><p>0.9</p></td>
<td><p>0.7</p></td>
<td><p>0.6</p></td>
<td><p>0.6</p></td>
<td><p>0.5</p></td>
<td><p>0.5</p></td>
<td><p>0.8</p></td>
</tr>
<tr class="row-even"><td><p>22:00</p></td>
<td><p>0.7</p></td>
<td><p>0.4</p></td>
<td><p>0.9</p></td>
<td><p>0.9</p></td>
<td><p>0.5</p></td>
<td><p>0.5</p></td>
<td><p>0.6</p></td>
</tr>
<tr class="row-odd"><td><p>23:00</p></td>
<td><p>0.5</p></td>
<td><p>0.2</p></td>
<td><p>0.7</p></td>
<td><p>0.7</p></td>
<td><p>1.0</p></td>
<td><p>1.0</p></td>
<td><p>0.3</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="building-integrated-solar-systems">
<h3>Building integrated solar systems<a class="headerlink" href="#building-integrated-solar-systems" title="Link to this heading">¶</a></h3>
<p>Once potential areas of each building type in each NUTS3 region are categorized by intervals of 100W/m <sup>2</sup> of Global Horizontal Irradiance (GHI), those with higher GHI are selected until reaching the area, power capacity or investment required by the user at the input.</p>
<p>The required power capacity is calculated from the investment considering the following unit costs. These can be also configured by the user.</p>
<p><strong>Table 4</strong>. Unit cost in €/Wp for each building typology:</p>
<div class="table-wrapper docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Category</p></th>
<th class="head"><p>Subcategory</p></th>
<th class="head"><p>Unit cost (€/Wp)</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Residential</p></td>
<td><p>Single-family house</p></td>
<td><p>1.2</p></td>
</tr>
<tr class="row-odd"><td></td>
<td><p>Apartment</p></td>
<td><p>0.8</p></td>
</tr>
<tr class="row-even"><td><p>Commercial</p></td>
<td><p>Health</p></td>
<td><p>0.8</p></td>
</tr>
<tr class="row-odd"><td></td>
<td><p>Hotels</p></td>
<td><p>0.8</p></td>
</tr>
<tr class="row-even"><td></td>
<td><p>Offices</p></td>
<td><p>0.8</p></td>
</tr>
<tr class="row-odd"><td></td>
<td><p>Sports</p></td>
<td><p>0.8</p></td>
</tr>
<tr class="row-even"><td></td>
<td><p>Trade</p></td>
<td><p>0.8</p></td>
</tr>
</tbody>
</table>
</div>
<p>The required area is calculated from the power capacity considering the following system efficiencies and use factors, understood as the rate of area in the building to install PV. These can be also configured by the user.</p>
<p><strong>Table 5.</strong> System efficiency and use factor in % for each building typology:</p>
<div class="table-wrapper docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Category</p></th>
<th class="head"><p>Subcategory</p></th>
<th class="head"><p>System efficiency (%)</p></th>
<th class="head"><p>Use factor (%)</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Residential</p></td>
<td><p>Single-family house</p></td>
<td><p>25</p></td>
<td><p>60</p></td>
</tr>
<tr class="row-odd"><td></td>
<td><p>Apartment</p></td>
<td><p>15</p></td>
<td><p>80</p></td>
</tr>
<tr class="row-even"><td><p>Commercial</p></td>
<td><p>Health</p></td>
<td><p>15</p></td>
<td><p>80</p></td>
</tr>
<tr class="row-odd"><td></td>
<td><p>Hotels</p></td>
<td><p>15</p></td>
<td><p>80</p></td>
</tr>
<tr class="row-even"><td></td>
<td><p>Offices</p></td>
<td><p>15</p></td>
<td><p>80</p></td>
</tr>
<tr class="row-odd"><td></td>
<td><p>Sports</p></td>
<td><p>15</p></td>
<td><p>80</p></td>
</tr>
<tr class="row-even"><td></td>
<td><p>Trade</p></td>
<td><p>15</p></td>
<td><p>80</p></td>
</tr>
</tbody>
</table>
</div>
<p>For the location corresponding to the median of GHI of each selected area of each NUTS3 the Photovoltaic (PV) generation profile is estimated and then aggregated for all the selected areas of all the NUTS3 to compute the PV generation profile in buildings for the whole NUTS2 region.</p>
<p>The tool used to estimate the Photovoltaic generation in buildings is PVGIS <a class="footnote-reference brackets" href="#id22" id="id11" role="doc-noteref"><span class="fn-bracket">[</span>11<span class="fn-bracket">]</span></a>, a free web application that allows the user to get data on solar radiation and photovoltaic system energy production. This is automatedly accessible via API.</p>
<p>First of all, PVGIS makes use of reanalysis-based solar radiation data sets to estimate the solar radiation arriving at the earth surface. Data. Reanalysis data are calculated using numerical weather forecast models, re-running the models for the past and making corrections using the known meteorological measurements. The output of the models is a large number of meteorological quantities, often including the solar irradiance at ground level.  More concretely, ECMWF ERA-5, produced by the European Centre for Medium-range Weather Forecast (ECMWF), has global coverage at a resolution of about 30km, and includes both global and direct solar irradiance. At the time of writing, only the time period 2005-2020 has been in PVGIS along with global coverage.</p>
<p>The satellite-based calculation described above produces values of global and beam irradiance on a horizontal plane. However, modules and PV systems are generally installed at an inclined angle regarding the horizontal plane or on tracking systems, so as to maximize the received in-plane irradiance. Therefore, the satellite retrieved irradiance values are not representative of the solar radiation available at the module surface, and it becomes necessary to estimate the in-plane irradiance.</p>
<p>There are several models in the scientific bibliography which use as input data the irradiance values on the horizontal plane of global and diffuse and/or beam irradiance components, to estimate the values of the beam and diffuse components on tilted surfaces. A comparison of some of these models can be found in <em>Gracia Amillo and Huld, 2013</em>. The estimation model implemented in PVGIS is the one developed by Muneer T. (1990) , which can be classified as anisotropic of two components.</p>
<p>In the case of buildings, fixed mounting structure has been considered with optimal azimuth (South oriented) and a tilt of 20º as a trade-off between energy yield and system efficiency. Only in the case of single-family houses 20% of the systems are East-oriented and other 20% West-oriented, as these are normally adapted to roof orientation.</p>
<p>On the other hand, PVGIS uses information about the elevation of the terrain with a resolution of 3 arc-seconds (about 90m). This means that for every 90m we have a value for the ground elevation. From these data we have calculated the height of the horizon around each geographical location. These data are then used to calculate the times when the sun is shadowed by hills or mountains. When this happens, the solar radiation is then calculated using only the diffuse part of the radiation. Please notice that with a resolution of ~90m the calculations in PVGIS cannot consider the effects of shadows from nearby objects such as houses or trees. Therefore, a higher “system loss” than usual must be considered for PV in buildings.</p>
<p>Indeed, once the amount of solar radiation that arrives at the PV modules is computed, the different effects that influence PV output and how they are calculated in PVGIS.</p>
<ul class="simple">
<li><p>Shallow-angle reflection. This is calculated using a mathematical model described in <em>(Martin&amp;Ruiz, 2001, Martin&amp;Ruiz, 2013)</em>. Generally, this effect causes a loss of 2-4% of the sunlight, though this will be lower for sun-tracking PV systems <em>(Huld et al., 2015)</em>.</p></li>
<li><p>Effects of changes in the solar spectrum. PVGIS has used solar radiation data from satellite that have been calculated for different spectral bands <em>(Mueller et al., 2012)</em> to calculate the effect of spectrum changes on the PV energy output.</p></li>
<li><p>PV power dependence on irradiance and module temperature. PVGIS calculates the effects of irradiance and module temperature using a model described in <em>(Huld et al., 2011)</em>. Module temperature is treated in PVGIS using a model suggested by Faiman (<em>Faiman, 2008</em>) and the BIPV/BAPV configuration is selected in this case.</p></li>
<li><p>System losses and degradation. Considering the system losses and the losses due to ageing PVGIS recommends a value of 14% for the “system loss” that the user gives as input to PVGIS. However, there are a number of other effects that can influence the energy output of PV systems. These effects are not included in the PVGIS calculations. Among these are: snow, soling, partial shadowing. Considering building environment, more prone to the appearance of these issues, a value of 20% is set for the “system loss” in this case.</p></li>
</ul>
</section>
<section id="energy-scenario-configuration">
<h3>Energy scenario configuration<a class="headerlink" href="#energy-scenario-configuration" title="Link to this heading">¶</a></h3>
<p>For the configuration of future scenarios, the model allows a simulation of a given fixed year, allowing to configure the main characteristics of that year.</p>
<p>In the buildings sector, the model allows to consider the effect of the evolution of HDD and CDD in the future, as well as the construction of new buildings. Based on this configuration, the model makes it possible to determine the degree of deployment of different technologies or measures applicable to each typology and archetype of buildings defined.</p>
<p>For example, in the case of building retrofitting, the logic behind the configuration of retrofitting scenarios for each building typology is explained. Depending on the selected degree of retrofitting, the model adjusts the thermal transmittance values of the building envelope to recalculate the new energy consumption.</p>
<p><strong>Table 6</strong>. Logic behind the configuration of retrofitting scenarios for each building typology:</p>
<div class="table-wrapper docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Category</p></th>
<th class="head"><p>Ref. level</p></th>
<th class="head"><p>Pre-1945</p></th>
<th class="head"><p>1945-1969</p></th>
<th class="head"><p>1970-1979</p></th>
<th class="head"><p>1980-1989</p></th>
<th class="head"><p>1990-1999</p></th>
<th class="head"><p>2000-2010</p></th>
<th class="head"><p>Post-2010</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Apartment block</p></td>
<td><p>Low</p></td>
<td><p>85%</p></td>
<td><p>25%</p></td>
<td><p>13%</p></td>
<td><p>0%</p></td>
<td><p>0%</p></td>
<td><p>0%</p></td>
<td><p>0%</p></td>
</tr>
<tr class="row-odd"><td><p>Single family - Terraced houses</p></td>
<td><p>High</p></td>
<td><p>50%</p></td>
<td><p>17%</p></td>
<td><p>0%</p></td>
<td><p>0%</p></td>
<td><p>0%</p></td>
<td><p>0%</p></td>
<td><p>0%</p></td>
</tr>
<tr class="row-even"><td><p>Offices</p></td>
<td><p>Medium</p></td>
<td><p>5%</p></td>
<td><p>5%</p></td>
<td><p>5%</p></td>
<td><p>5%</p></td>
<td><p>5%</p></td>
<td><p>0%</p></td>
<td><p>0%</p></td>
</tr>
<tr class="row-odd"><td><p>Education</p></td>
<td><p>Medium</p></td>
<td><p>10%</p></td>
<td><p>10%</p></td>
<td><p>10%</p></td>
<td><p>10%</p></td>
<td><p>10%</p></td>
<td><p>10%</p></td>
<td><p>10%</p></td>
</tr>
<tr class="row-even"><td><p>Health</p></td>
<td><p>Low</p></td>
<td><p>0%</p></td>
<td><p>0%</p></td>
<td><p>0%</p></td>
<td><p>0%</p></td>
<td><p>0%</p></td>
<td><p>0%</p></td>
<td><p>0%</p></td>
</tr>
<tr class="row-odd"><td><p>Trade</p></td>
<td><p>Low</p></td>
<td><p>0%</p></td>
<td><p>0%</p></td>
<td><p>0%</p></td>
<td><p>0%</p></td>
<td><p>0%</p></td>
<td><p>0%</p></td>
<td><p>0%</p></td>
</tr>
<tr class="row-even"><td><p>Hotels and Restaurants</p></td>
<td><p>Medium</p></td>
<td><p>0%</p></td>
<td><p>0%</p></td>
<td><p>0%</p></td>
<td><p>0%</p></td>
<td><p>0%</p></td>
<td><p>0%</p></td>
<td><p>0%</p></td>
</tr>
<tr class="row-odd"><td><p>Other non-residential buildings</p></td>
<td><p>Medium</p></td>
<td><p>0%</p></td>
<td><p>0%</p></td>
<td><p>0%</p></td>
<td><p>0%</p></td>
<td><p>0%</p></td>
<td><p>0%</p></td>
<td><p>0%</p></td>
</tr>
<tr class="row-even"><td><p>Sport</p></td>
<td><p>Medium</p></td>
<td><p>0%</p></td>
<td><p>0%</p></td>
<td><p>0%</p></td>
<td><p>0%</p></td>
<td><p>0%</p></td>
<td><p>0%</p></td>
<td><p>0%</p></td>
</tr>
</tbody>
</table>
</div>
<p><strong>Input parameters</strong></p>
<ul>
<li><p>Definition of building types:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">BUILDING_TYPES</span> <span class="o">=</span> <span class="p">[</span>
        <span class="s1">&#39;Apartment block&#39;</span><span class="p">,</span>
        <span class="s1">&#39;Single family- Terraced houses&#39;</span><span class="p">,</span>
        <span class="s1">&#39;Offices&#39;</span><span class="p">,</span>
        <span class="s1">&#39;Education&#39;</span><span class="p">,</span>
        <span class="s1">&#39;Health&#39;</span><span class="p">,</span>
        <span class="s1">&#39;Trade&#39;</span><span class="p">,</span>
        <span class="s1">&#39;Hotels and Restaurants&#39;</span><span class="p">,</span>
        <span class="s1">&#39;Other non-residential buildings&#39;</span><span class="p">,</span>
        <span class="s1">&#39;Sport&#39;</span>
<span class="p">]</span>
</pre></div>
</div>
</li>
<li><p>Construction periods:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">CONSTRUCTION_PERIODS</span> <span class="o">=</span> <span class="p">[</span>
        <span class="s1">&#39;Pre-1945&#39;</span><span class="p">,</span>
        <span class="s1">&#39;1945-1969&#39;</span><span class="p">,</span>
        <span class="s1">&#39;1970-1979&#39;</span><span class="p">,</span>
        <span class="s1">&#39;1980-1989&#39;</span><span class="p">,</span>
        <span class="s1">&#39;1990-1999&#39;</span><span class="p">,</span>
        <span class="s1">&#39;2000-2010&#39;</span><span class="p">,</span>
        <span class="s1">&#39;Post-2010&#39;</span>
<span class="p">]</span>
</pre></div>
</div>
</li>
<li><p>Reference levels for building refurbishment:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">REFERENCE_LEVELS</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s1">&#39;Low&#39;</span><span class="p">,</span>
        <span class="s1">&#39;Medium&#39;</span>
        <span class="s1">&#39;High&#39;</span>
<span class="p">}</span>
</pre></div>
</div>
</li>
<li><p>Percentage of surface area to be refurbished by building type and construction period:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">RENOVATION_PERCENTAGE</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s1">&#39;Apartment block&#39;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s1">&#39;Pre-1945&#39;</span><span class="p">:</span> <span class="mi">100</span><span class="p">,</span>
                <span class="s1">&#39;1945-1969&#39;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
                <span class="s1">&#39;1970-1979&#39;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
                <span class="s1">&#39;1980-1989&#39;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
                <span class="s1">&#39;1990-1999&#39;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
                <span class="s1">&#39;2000-2010&#39;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
                <span class="s1">&#39;Post-2010&#39;</span><span class="p">:</span> <span class="mi">0</span>
        <span class="p">},</span>
        <span class="s1">&#39;Single family- Terraced houses&#39;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s1">&#39;Pre-1945&#39;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
                <span class="s1">&#39;1945-1969&#39;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
                <span class="s1">&#39;1970-1979&#39;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
                <span class="s1">&#39;1980-1989&#39;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
                <span class="s1">&#39;1990-1999&#39;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
                <span class="s1">&#39;2000-2010&#39;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
                <span class="s1">&#39;Post-2010&#39;</span><span class="p">:</span> <span class="mi">0</span>
        <span class="p">},</span>
         <span class="o">...</span> <span class="p">(</span><span class="n">repeated</span> <span class="k">for</span> <span class="n">other</span> <span class="n">building</span> <span class="n">types</span><span class="p">)</span>
<span class="p">}</span>
</pre></div>
</div>
</li>
</ul>
<p>Similarly, the configuration of technology substitution scenarios can be configured for each building typology according to the logic shown in the following table.</p>
<p>Thus, the described % is associated with a given built-up area, a given number of buildings, a given number of technologies replaced (number or installed capacity) and a given investment.</p>
<p><strong>Table 7</strong>. New technology share configuration by end use for a typical building:</p>
<div class="table-wrapper docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Energy service</p></th>
<th class="head"><p>Baseline configuration</p></th>
<th class="head"><p>Scenario configuration</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><strong>Space heating</strong></p></td>
<td><p>100,00%</p></td>
<td><p>100,00%</p></td>
</tr>
<tr class="row-odd"><td><p>Space heating_Solids</p></td>
<td><p>0,18%</p></td>
<td><p>Insert</p></td>
</tr>
<tr class="row-even"><td><p>Space heating_LPG</p></td>
<td><p>0,45%</p></td>
<td><p>Insert</p></td>
</tr>
<tr class="row-odd"><td><p>Space heating_Diesel oil</p></td>
<td><p>12,62%</p></td>
<td><p>Insert</p></td>
</tr>
<tr class="row-even"><td><p>Space heating_Gas heat pumps</p></td>
<td><p>0,00%</p></td>
<td><p>Insert</p></td>
</tr>
<tr class="row-odd"><td><p>Space heating_Natural gas</p></td>
<td><p>23,53%</p></td>
<td><p>Insert</p></td>
</tr>
<tr class="row-even"><td><p>Space heating_Biomass</p></td>
<td><p>30,95%</p></td>
<td><p>Insert</p></td>
</tr>
<tr class="row-odd"><td><p>Space heating_Geothermal</p></td>
<td><p>0,00%</p></td>
<td><p>Insert</p></td>
</tr>
<tr class="row-even"><td><p>Space heating_Distributed heat</p></td>
<td><p>14,66%</p></td>
<td><p>Insert</p></td>
</tr>
<tr class="row-odd"><td><p>Space heating_Advanced electric heating</p></td>
<td><p>9,27%</p></td>
<td><p>Insert</p></td>
</tr>
<tr class="row-even"><td><p>Space heating_Conventional electric heating</p></td>
<td><p>7,32%</p></td>
<td><p>Insert</p></td>
</tr>
<tr class="row-odd"><td><p>Space heating_BioOil</p></td>
<td><p>0,00%</p></td>
<td><p>Insert</p></td>
</tr>
<tr class="row-even"><td><p>Space heating_BioGas</p></td>
<td><p>0,00%</p></td>
<td><p>Insert</p></td>
</tr>
<tr class="row-odd"><td><p>Space heating_Hydrogen</p></td>
<td><p>0,00%</p></td>
<td><p>Insert</p></td>
</tr>
<tr class="row-even"><td><p><strong>Electricity in circulation</strong></p></td>
<td><p>1,03%</p></td>
<td><p>Insert</p></td>
</tr>
<tr class="row-odd"><td><p><strong>Space cooling</strong></p></td>
<td><p>7,80%</p></td>
<td><p>7,80%</p></td>
</tr>
<tr class="row-even"><td><p>Space cooling_Gas heat pumps</p></td>
<td><p>0,00%</p></td>
<td><p>Insert</p></td>
</tr>
<tr class="row-odd"><td><p>Space cooling_Electric space cooling</p></td>
<td><p>100,00%</p></td>
<td><p>Insert</p></td>
</tr>
<tr class="row-even"><td><p><strong>Water heating</strong></p></td>
<td><p>100,00%</p></td>
<td><p>100,00%</p></td>
</tr>
<tr class="row-odd"><td><p>Water heating_Solids</p></td>
<td><p>0,05%</p></td>
<td><p>Insert</p></td>
</tr>
<tr class="row-even"><td><p>Water heating_LPG</p></td>
<td><p>0,31%</p></td>
<td><p>Insert</p></td>
</tr>
<tr class="row-odd"><td><p>Water heating_Diesel oil</p></td>
<td><p>8,19%</p></td>
<td><p>Insert</p></td>
</tr>
<tr class="row-even"><td><p>Water heating_Natural gas</p></td>
<td><p>17,64%</p></td>
<td><p>Insert</p></td>
</tr>
<tr class="row-odd"><td><p>Water heating_Biomass</p></td>
<td><p>17,69%</p></td>
<td><p>Insert</p></td>
</tr>
<tr class="row-even"><td><p>Water heating_Geothermal</p></td>
<td><p>0,00%</p></td>
<td><p>Insert</p></td>
</tr>
<tr class="row-odd"><td><p>Water heating_Distributed heat</p></td>
<td><p>14,00%</p></td>
<td><p>Insert</p></td>
</tr>
<tr class="row-even"><td><p>Water heating_Electricity</p></td>
<td><p>28,40%</p></td>
<td><p>Insert</p></td>
</tr>
<tr class="row-odd"><td><p>Water heating_BioOil</p></td>
<td><p>0,00%</p></td>
<td><p>Insert</p></td>
</tr>
<tr class="row-even"><td><p>Water heating_BioGas</p></td>
<td><p>0,00%</p></td>
<td><p>Insert</p></td>
</tr>
<tr class="row-odd"><td><p>Water heating_Hydrogen</p></td>
<td><p>0,00%</p></td>
<td><p>Insert</p></td>
</tr>
<tr class="row-even"><td><p><strong>Water heating_Solar</strong></p></td>
<td><p>13,72%</p></td>
<td><p>Insert</p></td>
</tr>
<tr class="row-odd"><td><p><strong>Cooking</strong></p></td>
<td><p>100,00%</p></td>
<td><p>100,00%</p></td>
</tr>
<tr class="row-even"><td><p>Cooking_Solids</p></td>
<td><p>0,02%</p></td>
<td><p>Insert</p></td>
</tr>
<tr class="row-odd"><td><p>Cooking_LPG</p></td>
<td><p>0,19%</p></td>
<td><p>Insert</p></td>
</tr>
<tr class="row-even"><td><p>Cooking_Natural gas</p></td>
<td><p>4,06%</p></td>
<td><p>Insert</p></td>
</tr>
<tr class="row-odd"><td><p>Cooking_Biomass</p></td>
<td><p>2,85%</p></td>
<td><p>Insert</p></td>
</tr>
<tr class="row-even"><td><p>Cooking_Electricity</p></td>
<td><p>92,89%</p></td>
<td><p>Insert</p></td>
</tr>
<tr class="row-odd"><td><p><strong>Appliances</strong></p></td>
<td><p>100,00%</p></td>
<td><p>100,00%</p></td>
</tr>
<tr class="row-even"><td><p>Appliances_Electricity</p></td>
<td><p>1,000</p></td>
<td><p>Insert</p></td>
</tr>
<tr class="row-odd"><td><p><strong>Lighting</strong></p></td>
<td><p>100,00%</p></td>
<td><p>100,00%</p></td>
</tr>
<tr class="row-even"><td><p>Lighting_Electricity</p></td>
<td><p>1,000</p></td>
<td><p>Insert</p></td>
</tr>
</tbody>
</table>
</div>
</section>
</section>
<section id="references">
<h2>References<a class="headerlink" href="#references" title="Link to this heading">¶</a></h2>
<aside class="footnote-list brackets">
<aside class="footnote brackets" id="id12" role="doc-footnote">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id1">1</a><span class="fn-bracket">]</span></span>
<p>“OpenStreetMap data. <a class="reference external" href="https://download.geofabrik.de/europe.html">https://download.geofabrik.de/europe.html</a> (accessed Jun. 11, 2024).</p>
</aside>
<aside class="footnote brackets" id="id13" role="doc-footnote">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id2">2</a><span class="fn-bracket">]</span></span>
<p>European Union, “EU Building Stock Observatory database.” [Online]. Available: <a class="reference external" href="https://energy.ec.europa.eu/topics/energy-efficiency/energy-efficient-buildings/eu-building-stock-observatory_en">https://energy.ec.europa.eu/topics/energy-efficiency/energy-efficient-buildings/eu-building-stock-observatory_en</a>.</p>
</aside>
<aside class="footnote brackets" id="id14" role="doc-footnote">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id3">3</a><span class="fn-bracket">]</span></span>
<p>“GHSL - Global Human Settlement Layer.” <a class="reference external" href="https://human-settlement.emergency.copernicus.eu/download.php">https://human-settlement.emergency.copernicus.eu/download.php</a> (accessed Jun. 11, 2024)</p>
</aside>
<aside class="footnote brackets" id="id15" role="doc-footnote">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id4">4</a><span class="fn-bracket">]</span></span>
<p>“Hotmaps project.” <a class="reference external" href="https://www.hotmaps.eu/map">https://www.hotmaps.eu/map</a> (accessed Jun. 11, 2024).</p>
</aside>
<aside class="footnote brackets" id="id16" role="doc-footnote">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id5">5</a><span class="fn-bracket">]</span></span>
<ol class="upperalpha simple" start="5">
<li><p>Arrizabalaga1, N. Hermoso1, J. Pedrero1, I. Muñoz1, L. Mabe1 .(2024) Data processing for georeferenced building characterization aimed at energy modelling of different NUTS level 2 regions of Europe. European Climate and Energy Modelling Platform 2024 (ECEMP) Brussels and online 16th to 17th October 2024.</p></li>
</ol>
</aside>
<aside class="footnote brackets" id="id17" role="doc-footnote">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id6">6</a><span class="fn-bracket">]</span></span>
<p><a class="reference external" href="https://scikit-learn.org/1.5/modules/clustering.html#k-means">https://scikit-learn.org/1.5/modules/clustering.html#k-means</a></p>
</aside>
<aside class="footnote brackets" id="id18" role="doc-footnote">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id7">7</a><span class="fn-bracket">]</span></span>
<p><a class="reference external" href="https://globalsolaratlas.info/download/world">https://globalsolaratlas.info/download/world</a></p>
</aside>
<aside class="footnote brackets" id="id19" role="doc-footnote">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id8">8</a><span class="fn-bracket">]</span></span>
<p><a class="reference external" href="https://renewables.ninja/">https://renewables.ninja/</a></p>
</aside>
<aside class="footnote brackets" id="id20" role="doc-footnote">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id9">9</a><span class="fn-bracket">]</span></span>
<p>European Commission. EU Buildings Stock Observatory. Available: <a class="reference external" href="http://ec.europa.eu/energy/en/eubuildings">http://ec.europa.eu/energy/en/eubuildings</a></p>
</aside>
<aside class="footnote brackets" id="id21" role="doc-footnote">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id10">10</a><span class="fn-bracket">]</span></span>
<p>Rozsai, Mate; Jaxa-Rozen, Marc; Salvucci, Raffaele; Sikora, Przemyslaw; Tattini, Jacopo; Neuwahl, Frederik (2024): JRC-IDEES-2021. European Commission, Joint Research Centre (JRC) [Dataset] PID: <a class="reference external" href="http://data.europa.eu/89h/82322924-506a-4c9a-8532-2bdd30d69bf5">http://data.europa.eu/89h/82322924-506a-4c9a-8532-2bdd30d69bf5</a></p>
</aside>
<aside class="footnote brackets" id="id22" role="doc-footnote">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id11">11</a><span class="fn-bracket">]</span></span>
<p>PVGIS data sources &amp; calculation methods - European Commission</p>
</aside>
</aside>
</section>
</section>

        </article>
      </div>
      <footer>
        
        <div class="related-pages">
          <a class="next-page" href="getting_started.html">
              <div class="page-info">
                <div class="context">
                  <span>Next</span>
                </div>
                <div class="title">Getting started</div>
              </div>
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
            </a>
          <a class="prev-page" href="overview.html">
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
              <div class="page-info">
                <div class="context">
                  <span>Previous</span>
                </div>
                
                <div class="title">Overview</div>
                
              </div>
            </a>
        </div>
        <div class="bottom-of-page">
          <div class="left-details">
            <div class="copyright">
                Copyright &#169; 2025, Tecnalia
            </div>
            Made with <a href="https://www.sphinx-doc.org/">Sphinx</a> and <a class="muted-link" href="https://pradyunsg.me">@pradyunsg</a>'s
            
            <a href="https://github.com/pradyunsg/furo">Furo</a>
            
          </div>
          <div class="right-details">
            
          </div>
        </div>
        
      </footer>
    </div>
    <aside class="toc-drawer">
      
      
      <div class="toc-sticky toc-scroll">
        <div class="toc-title-container">
          <span class="toc-title">
            On this page
          </span>
        </div>
        <div class="toc-tree-container">
          <div class="toc-tree">
            <ul>
<li><a class="reference internal" href="#">Methodological description</a><ul>
<li><a class="reference internal" href="#mathematical-description">Mathematical description</a></li>
<li><a class="reference internal" href="#pre-processing-of-basic-data-of-the-building-stock">Pre-processing of basic data of the building stock</a><ul>
<li><a class="reference internal" href="#a-buildings">a) BUILDINGS</a></li>
<li><a class="reference internal" href="#pre-processing-of-building-level-information">Pre-processing of building-level information</a></li>
<li><a class="reference internal" href="#information-processing-for-the-generation-of-archetypes">Information processing for the generation of archetypes</a></li>
<li><a class="reference internal" href="#b-solar">b) SOLAR</a></li>
<li><a class="reference internal" href="#data-preparation-and-clipping">Data Preparation and Clipping</a></li>
<li><a class="reference internal" href="#land-use-layer-filtering">Land Use Layer Filtering</a></li>
<li><a class="reference internal" href="#raster-alignment-and-standardization">Raster Alignment and Standardization</a></li>
<li><a class="reference internal" href="#regional-analysis-and-reporting">Regional Analysis and Reporting</a></li>
</ul>
</li>
<li><a class="reference internal" href="#calculation-of-energy-needs-and-energy-consumption-of-buildings-in-the-region">Calculation of energy needs and energy consumption of buildings in the region</a><ul>
<li><a class="reference internal" href="#buildings">Buildings</a></li>
<li><a class="reference internal" href="#internal-database">Internal database</a></li>
<li><a class="reference internal" href="#building-integrated-solar-systems">Building integrated solar systems</a></li>
<li><a class="reference internal" href="#energy-scenario-configuration">Energy scenario configuration</a></li>
</ul>
</li>
<li><a class="reference internal" href="#references">References</a></li>
</ul>
</li>
</ul>

          </div>
        </div>
      </div>
      
      
    </aside>
  </div>
</div><script src="_static/documentation_options.js?v=82662543"></script>
    <script src="_static/doctools.js?v=9bcbadda"></script>
    <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="_static/scripts/furo.js?v=46bd48cc"></script>
    <script src="_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="_static/copybutton.js?v=f281be69"></script>
    </body>
</html>